<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iasi Joaca - Specificare Cerinte Sistem</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Iasi Joaca - Documentatie</h1>
        <div class="metadata">
            <p>Local Greetings - Aplicatie web pentru organizarea si participarea la evenimente sportive</p>
        </div>
    </header>

    <section id="introduction">
        <h2>1. Introducere</h2>
        
        <section class="subsection" id="scope">
            <h3>1.1 Domeniul de aplicare</h3>
            <p>Aplicatia "Iasi Joaca" are ca scop facilitarea organizarii de evenimente sportive si conectarea persoanelor interesate de sport din zona Iasi. Sistemul permite:</p>
            <ul>
                <li>Vizualizarea terenurilor de sport disponibile pe o harta interactiva</li>
                <li>Crearea si gestionarea evenimentelor sportive</li>
                <li>Inscrierea la evenimente si interactiunea intre participanti</li>
                <li>Gestionarea unui profil de utilizator</li>
                <li>Primirea de notificari despre evenimente prin RSS</li>
            </ul>
        </section>

    <section id="overall-description">
        <h2>2. Descriere generala</h2>
        
        <section class="subsection" id="product-perspective">
            <h3>2.1 Perspectiva produsului</h3>
            <p>"Iasi Joaca" este o aplicatie web independenta, dezvoltata utilizand arhitectura MVC (Model-View-Controller), cu o baza de date MySQL pentru stocarea informatiilor. Aplicatia interactioneaza cu servicii externe precum OpenStreetMap pentru afisarea si gestionarea hartii interactive.</p>
            
            <p>Componentele principale ale sistemului includ:</p>
            <ul>
                <li>Interfata web pentru utilizatori (frontend)</li>
                <li>Serverul de aplicatii PHP (backend)</li>
                <li>Baza de date relationala MySQL</li>
                <li>Integrarea cu API-uri externe (OpenStreetMap)</li>
            </ul>
        </section>
        
        <section class="subsection" id="product-functions">
            <h3>2.2 Functionalitatile produsului</h3>
            <p>Principalele functionalitati ale aplicatiei sunt:</p>
            
            <div class="requirement">
                <h4>Autentificare si gestionarea conturilor</h4>
                <ul>
                    <li>Inregistrare utilizatori noi</li>
                    <li>Autentificare in sistem</li>
                    <li>Gestionarea informatiilor de profil</li>
                </ul>
            </div>
            
            <div class="requirement">
                <h4>Vizualizarea si interactiunea cu harta</h4>
                <ul>
                    <li>Afisarea terenurilor de sport disponibile pe harta</li>
                    <li>Marcarea diferita a terenurilor libere si ocupate</li>
                    <li>Interactiunea cu terenurile pentru crearea de evenimente</li>
                </ul>
            </div>
            
            <div class="requirement">
                <h4>Gestionarea evenimentelor</h4>
                <ul>
                    <li>Crearea de evenimente noi</li>
                    <li>Setarea parametrilor evenimentului (data, durata, numar maxim de participanti, etc.)</li>
                    <li>Afisarea evenimentelor viitoare si trecute</li>
                    <li>Vizualizarea detaliilor unui eveniment</li>
                </ul>
            </div>
            
            <div class="requirement">
                <h4>Participarea la evenimente</h4>
                <ul>
                    <li>Inscrierea la evenimente</li>
                    <li>Retragerea de la evenimente</li>
                    <li>Vizualizarea listei de participanti</li>
                </ul>
            </div>
            
            <div class="requirement">
                <h4>Comunicare intre participanti</h4>
                <ul>
                    <li>Sistem de chat pentru fiecare eveniment</li>
                    <li>Notificari despre evenimente prin RSS</li>
                </ul>
            </div>
        </section>
        
        <section class="subsection" id="user-classes">
            <h3>2.3 Clasele si caracteristicile utilizatorilor</h3>
            <p>Aplicatia este destinata urmatoarelor categorii de utilizatori:</p>
            
            <h4>Utilizatori neautentificati</h4>
            <p>Persoane care nu au cont sau nu sunt autentificate in sistem.</p>
            <ul>
                <li>Pot vizualiza pagina de login/inregistrare</li>
                <li>Nu au acces la alte functionalitati ale aplicatiei</li>
            </ul>
            
            <h4>Utilizatori autentificati</h4>
            <p>Persoane care au cont si sunt autentificate in sistem.</p>
            <ul>
                <li>Pot vizualiza harta terenurilor</li>
                <li>Pot crea evenimente</li>
                <li>Pot participa la evenimente</li>
                <li>Pot interactiona prin sistemul de chat</li>
                <li>Pot gestiona profilul personal</li>
            </ul>
            
            <h4>Organizatori de evenimente</h4>
            <p>Utilizatori autentificati care au creat unul sau mai multe evenimente.</p>
            <ul>
                <li>Au toate drepturile utilizatorilor autentificati</li>
                <li>Pot modifica detaliile evenimentelor create</li>
                <li>Pot interactiona cu participantii la evenimentele lor</li>
            </ul>
        </section>
        
        <section class="subsection" id="operating-environment">
            <h3>2.4 Mediul de operare</h3>
            <p>Aplicatia "Iasi Joaca" opereaza in urmatorul mediu:</p>
            <ul>
                <li><strong>Server:</strong> Apache</li>
                <li><strong>Limbaj de programare:</strong> PHP</li>
                <li><strong>Baza de date:</strong> MySQL</li>
                <li><strong>Frontend:</strong> HTML, CSS, JavaScript</li>
                <li><strong>Dispozitive suportate:</strong> Desktop, Tableta, Mobil (design responsiv)</li>
            </ul>
        </section>
    </section>

    <section id="specific-requirements">
        <h2>3. Cerinte specifice</h2>
        
        <section class="subsection" id="external-interfaces">
            <h3>3.1 Interfete externe</h3>
            
            <h4>3.1.1 Interfete utilizator</h4>
            <p>Aplicatia contine urmatoarele interfete utilizator principale:</p>
            <ul>
                <li><strong>Pagina de Login/Inregistrare:</strong> Formulare pentru autentificarea si inregistrarea utilizatorilor</li>
                <li><strong>Dashboard:</strong> Pagina principala dupa autentificare, prezentand optiuni si functionalitati</li>
                <li><strong>Harta Terenurilor:</strong> Harta interactiva cu terenurile de sport disponibile</li>
                <li><strong>Pagina de Evenimente:</strong> Listarea evenimentelor viitoare si trecute</li>
                <li><strong>Creare Eveniment:</strong> Formular pentru crearea unui eveniment nou</li>
                <li><strong>Vizualizare Eveniment:</strong> Detalii despre un eveniment specific, inclusiv chat si participanti</li>
                <li><strong>Profil Utilizator:</strong> Vizualizarea si editarea informatiilor de profil</li>
            </ul>
            
            <h4>3.1.2 Interfete hardware</h4>
            <p>Aplicatia nu necesita interfete hardware specifice, functionand pe orice dispozitiv cu browser web si conexiune la internet.</p>
            
            <h4>3.1.3 Interfete software</h4>
            <p>Aplicatia interactioneaza cu urmatoarele interfete software externe:</p>
            <ul>
                <li><strong>OpenStreetMap API:</strong> Pentru afisarea si manipularea hartii interactive</li>
                <li><strong>Overpass API:</strong> Pentru obtinerea informatiilor despre terenurile de sport</li>
                <li><strong>RSS Feed:</strong> Pentru distribuirea informatiilor despre evenimente</li>
            </ul>
            
            <h4>3.1.4 Interfete de comunicare</h4>
            <p>Comunicarea intre componentele sistemului se realizeaza prin:</p>
            <ul>
                <li>HTTP/HTTPS pentru comunicarea client-server</li>
                <li>Apeluri AJAX pentru actualizari asincrone ale interfetei</li>
                <li>API-uri RESTful pentru schimbul de date intre frontend si backend</li>
            </ul>
        </section>
        
        <section class="subsection" id="functional-requirements">
            <h3>3.2 Cerinte functionale</h3>
            
            <div class="requirement">
                <h4>3.2.1 Autentificare si inregistrare</h4>
                <p><strong>Descriere:</strong> Sistemul permite utilizatorilor sa isi creeze conturi si sa se autentifice.</p>
                <p><strong>Cerinte:</strong></p>
                <ul>
                    <li>Inregistrarea cu username, email, nume, prenume, data nasterii, gen si parola</li>
                    <li>Validarea datelor de inregistrare (email valid, parola sigura)</li>
                    <li>Autentificarea cu username si parola</li>
                    <li>Protejarea rutelor care necesita autentificare</li>
                    <li>Deconectarea din sistem</li>
                </ul>
            </div>
            
            <div class="requirement">
                <h4>3.2.2 Gestionarea profilului</h4>
                <p><strong>Descriere:</strong> Utilizatorii pot vizualiza si edita informatiile personale.</p>
                <p><strong>Cerinte:</strong></p>
                <ul>
                    <li>Vizualizarea datelor personale</li>
                    <li>Editarea informatiilor (nume, prenume, email)</li>
                    <li>Vizualizarea istoricului de participari la evenimente</li>
                </ul>
            </div>
            
            <div class="requirement">
                <h4>3.2.3 Vizualizarea terenurilor pe harta</h4>
                <p><strong>Descriere:</strong> Sistemul afiseaza terenurile de sport disponibile pe o harta interactiva.</p>
                <p><strong>Cerinte:</strong></p>
                <ul>
                    <li>Incarcarea si afisarea hartii din OpenStreetMap</li>
                    <li>Marcarea terenurilor de sport cu icon-uri diferite (libere/ocupate)</li>
                    <li>Limitarea zonei de navigare la regiunea Iasi</li>
                    <li>Afisarea informatiilor despre teren la click pe marker</li>
                    <li>Optiuni de creare eveniment sau vizualizare evenimente existente la teren</li>
                </ul>
            </div>
            
            <div class="requirement">
                <h4>3.2.4 Crearea evenimentelor</h4>
                <p><strong>Descriere:</strong> Utilizatorii pot crea evenimente sportive la terenurile disponibile.</p>
                <p><strong>Cerinte:</strong></p>
                <ul>
                    <li>Formular pentru specificarea detaliilor evenimentului (nume, descriere, data, durata, etc.)</li>
                    <li>Validarea datelor introduse</li>
                    <li>Verificarea disponibilitatii terenului la data si ora selectate</li>
                    <li>Stabilirea numarului maxim de participanti</li>
                    <li>Setarea cerintelor de participare (numar minim de participari anterioare)</li>
                </ul>
            </div>
            
            <div class="requirement">
                <h4>3.2.5 Gestionarea evenimentelor</h4>
                <p><strong>Descriere:</strong> Sistemul gestioneaza listarea si statusul evenimentelor.</p>
                <p><strong>Cerinte:</strong></p>
                <ul>
                    <li>Afisarea evenimentelor viitoare si trecute</li>
                    <li>Filtrarea evenimentelor dupa locatie</li>
                    <li>Actualizarea automata a statusului evenimentelor (pending, running, expired)</li>
                    <li>Afisarea detaliilor despre un eveniment (data, ora, locatie, participanti)</li>
                </ul>
            </div>
            
            <div class="requirement">
                <h4>3.2.6 Participarea la evenimente</h4>
                <p><strong>Descriere:</strong> Utilizatorii se pot inscrie si retrage de la evenimente.</p>
                <p><strong>Cerinte:</strong></p>
                <ul>
                    <li>Inscrierea la un eveniment cu verificarea conditiilor (numar maxim de participanti, cerinte de participare)</li>
                    <li>Retragerea de la un eveniment</li>
                    <li>Vizualizarea listei de participanti</li>
                    <li>Restrictii pentru inscrierea la evenimente care se suprapun</li>
                </ul>
            </div>
            
            <div class="requirement">
                <h4>3.2.7 Comunicare intre participanti</h4>
                <p><strong>Descriere:</strong> Sistemul faciliteaza comunicarea intre participantii la evenimente.</p>
                <p><strong>Cerinte:</strong></p>
                <ul>
                    <li>Chat dedicat pentru fiecare eveniment</li>
                    <li>Afisarea mesajelor cu numele utilizatorului si ora trimiterii</li>
                    <li>Marcare speciala pentru organizator in chat</li>
                    <li>Restrictionarea accesului la chat doar pentru participantii inscrisi si organizator</li>
                </ul>
            </div>
            
            <div class="requirement">
                <h4>3.2.8 Notificari prin RSS</h4>
                <p><strong>Descriere:</strong> Sistemul ofera un feed RSS pentru notificari despre evenimente.</p>
                <p><strong>Cerinte:</strong></p>
                <ul>
                    <li>Generarea unui feed RSS cu evenimentele viitoare</li>
                    <li>Includerea informatiilor relevante in feed (nume, data, locatie, organizator)</li>
                    <li>Actualizarea automata a feed-ului</li>
                </ul>
            </div>
        </section>
        
        <section class="subsection" id="security-requirements">
            <h3>3.3 Cerinte de securitate</h3>
            <ul>
                <li>Protectia impotriva SQL Injection prin utilizarea prepared statements</li>
                <li>Validarea tuturor datelor de intrare de la utilizatori</li>
                <li>Stocarea parolelor criptate folosind algoritmi de hashing siguri (password_hash)</li>
                <li>Protectia sesiunilor utilizatorilor</li>
                <li>Accesul restrictionat la functionalitati bazat pe autentificare</li>
                <li>Protectia impotriva atacurilor XSS (htmlspecialchars)</li>
            </ul>
        </section>
        
        <section class="subsection" id="database-requirements">
            <h3>3.4 Cerinte de baza de date</h3>
            <p>Baza de date contine urmatoarele tabele principale:</p>
            
            <h4>users</h4>
            <p>Stocheaza informatiile despre utilizatori:</p>
            <ul>
                <li>user_id (cheie primara)</li>
                <li>username (unic)</li>
                <li>password (hashed)</li>
                <li>email (unic)</li>
                <li>firstname, lastname</li>
                <li>events_participated</li>
                <li>date (timestamp)</li>
                <li>role (user/admin)</li>
                <li>birth_date, gender</li>
            </ul>
            
            <h4>events</h4>
            <p>Stocheaza informatiile despre evenimente:</p>
            <ul>
                <li>event_id (cheie primara)</li>
                <li>event_name</li>
                <li>location</li>
                <li>description</li>
                <li>event_date</li>
                <li>location_lat, location_lon</li>
                <li>max_participants</li>
                <li>created_by (cheie straina la users)</li>
                <li>status (pending/running/expired)</li>
                <li>created_at</li>
                <li>min_events_participated</li>
                <li>duration</li>
            </ul>
            
            <h4>event_participants</h4>
            <p>Stocheaza relatiile dintre utilizatori si evenimentele la care participa:</p>
            <ul>
                <li>event_id (cheie primara partiala, cheie straina la events)</li>
                <li>user_id (cheie primara partiala, cheie straina la users)</li>
                <li>join_date</li>
                <li>status</li>
                <li>registration_date</li>
            </ul>
            
            <h4>event_chat</h4>
            <p>Stocheaza mesajele din chat-ul evenimentelor:</p>
            <ul>
                <li>id (cheie primara)</li>
                <li>event_id (cheie straina la events)</li>
                <li>user_id (cheie straina la users)</li>
                <li>message</li>
                <li>sent_at</li>
            </ul>
            
            <h4>user_profile</h4>
            <p>Stocheaza informatii suplimentare despre profilurile utilizatorilor:</p>
            <ul>
                <li>id (cheie primara)</li>
                <li>user_id (cheie straina la users)</li>
                <li>phone</li>
                <li>bio</li>
                <li>created_at, updated_at</li>
            </ul>
        </section>
    </section>

    <section id="architecture">
        <h2>4. Arhitectura sistemului</h2>
        
        <section class="subsection" id="mvc-architecture">
            <h3>4.1 Arhitectura MVC</h3>
            <p>Aplicatia "Iasi Joaca" este dezvoltata folosind arhitectura Model-View-Controller (MVC), care separa logica aplicatiei in trei componente interconectate:</p>
            
            <h4>Model</h4>
            <p>Modelele gestioneaza logica de business si interactiunea cu baza de date:</p>
            <ul>
                <li><strong>EventModel:</strong> Gestioneaza evenimentele (creare, listare, inscriere)</li>
                <li><strong>UserModel:</strong> Gestioneaza utilizatorii (autentificare, inregistrare, profil)</li>
                <li><strong>ProfileModel:</strong> Gestioneaza profilurile utilizatorilor</li>
                <li><strong>RSSModel:</strong> Genereaza feed-ul RSS</li>
            </ul>
            
            <h4>View</h4>
            <p>View-urile reprezinta interfata cu utilizatorul:</p>
            <ul>
                <li><strong>login.php, register.php:</strong> Paginile de autentificare si inregistrare</li>
                <li><strong>dashboard.php:</strong> Pagina principala</li>
                <li><strong>harta.php:</strong> Pagina cu harta terenurilor</li>
                <li><strong>evenimente.php:</strong> Pagina cu lista evenimentelor</li>
                <li><strong>event_create.php:</strong> Pagina de creare eveniment</li>
                <li><strong>view_event.php:</strong> Pagina de detalii eveniment</li>
                <li><strong>profile.php, edit_profile.php:</strong> Paginile profilului</li>
                <li><strong>rss.php:</strong> Feed-ul RSS</li>
            </ul>
            
            <h4>Controller</h4>
            <p>Controlerele proceseaza cererile utilizatorilor.</p>
            <ul>
                <li><strong>loginController.php, registerController.php:</strong> Gestioneaza autentificarea si inregistrarea</li>
                <li><strong>createEventController.php:</strong> Gestioneaza crearea evenimentelor</li>
                <li><strong>getEventsController.php:</strong> Gestioneaza listarea evenimentelor</li>
                <li><strong>checkEventsController.php:</strong> Verifica statusul evenimentelor</li>
                <li><strong>joinEventController.php, viewEventController.php:</strong> Gestioneaza participarea la evenimente</li>
                <li><strong>profileController.php:</strong> Gestioneaza profilul utilizatorilor</li>
                <li><strong>logoutController.php:</strong> Gestioneaza deconectarea</li>
            </ul>
        </section>
        
        <section class="subsection" id="frontend-architecture">
            <h3>4.2 Arhitectura Frontend</h3>
            <p>Frontend-ul aplicatiei este construit folosind:</p>
            <ul>
                <li><strong>HTML/CSS:</strong> Pentru structura si stilul paginilor</li>
                <li><strong>JavaScript:</strong> Pentru interactivitate si comunicare asincrona cu backend-ul</li>
                <li><strong>Leaflet.js:</strong> Pentru implementarea hartii interactive</li>
                <li><strong>Fetch API:</strong> Pentru comunicarea cu backend-ul prin API-uri RESTful</li>
            </ul>
            
            <p>Principalele fisiere JavaScript:</p>
            <ul>
                <li><strong>map.js:</strong> Gestioneaza harta si interactiunea cu terenurile</li>
                <li><strong>createEvent.js:</strong> Gestioneaza crearea evenimentelor</li>
                <li><strong>getEvents.js:</strong> Gestioneaza listarea evenimentelor</li>
                <li><strong>login.js, register.js:</strong> Gestioneaza autentificarea si inregistrarea</li>
            </ul>
            
            <p>Fisierele CSS organizate pe module:</p>
            <ul>
                <li><strong>styleStartPage.css:</strong> Stiluri pentru pagina principala</li>
                <li><strong>loginStyle.css:</strong> Stiluri pentru paginile de autentificare si inregistrare</li>
                <li><strong>evenimenteStyle.css:</strong> Stiluri pentru pagina de evenimente</li>
                <li><strong>eventCreationStyle.css:</strong> Stiluri pentru pagina de creare eveniment</li>
                <li><strong>viewEventStyle.css:</strong> Stiluri pentru pagina de detalii eveniment</li>
                <li><strong>profileStyle.css:</strong> Stiluri pentru paginile profilului</li>
            </ul>
        </section>
        
        <section class="subsection" id="api-endpoints">
            <h3>4.3 API Endpoints</h3>
            <p>Aplicatia ofera urmatoarele endpoint-uri API pentru comunicarea intre frontend si backend:</p>
            
            <h4>Autentificare si inregistrare:</h4>
            <ul>
                <li><strong>POST /controllers/loginController.php:</strong> Autentificare utilizator</li>
                <li><strong>POST /controllers/registerController.php:</strong> Inregistrare utilizator nou</li>
                <li><strong>GET /controllers/logoutController.php:</strong> Deconectare utilizator</li>
            </ul>
            
            <h4>Evenimente:</h4>
            <ul>
                <li><strong>POST /controllers/getEventsController.php:</strong> Obtinere evenimente</li>
                <li><strong>POST /controllers/createEventController.php:</strong> Creare eveniment nou</li>
                <li><strong>GET /controllers/checkEventsController.php:</strong> Verificare status evenimente</li>
                <li><strong>POST /controllers/joinEventController.php:</strong> Inscriere la eveniment</li>
                <li><strong>POST /controllers/viewEventController.php:</strong> Actiuni in pagina de eveniment (inscriere, retragere, mesaje)</li>
            </ul>
            
            <h4>Profil:</h4>
            <ul>
                <li><strong>POST /controllers/profileController.php:</strong> Actualizare profil utilizator</li>
            </ul>
            
            <h4>RSS:</h4>
            <ul>
                <li><strong>GET /views/rss.php:</strong> Feed RSS cu evenimente viitoare</li>
            </ul>
        </section>
    </section>

    <section id="conclusion">
        <h2>6. Concluzie</h2>
        <p>Acest document a prezentat specificatiile si cerintele pentru aplicatia web "Iasi Joaca", o platforma dedicata organizarii si 
            participarii la evenimente sportive in zona Iasi. Documentul detaliaza arhitectura sistemului, functionalitatile principale,
            cerintele de performanta si securitate, precum si detalii de implementare si testare.</p>
        
    </section>
</body>
</html>
